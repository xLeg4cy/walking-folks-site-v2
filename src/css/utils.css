@layer utilities {
  .glass {
    @apply bg-white/80 backdrop-blur-lg border border-gray-200 shadow-light;
  }

  .dark .glass {
    @apply bg-black/10 backdrop-blur-lg border border-white/10;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-[#0A2647] to-[#3498db] bg-clip-text text-transparent;
  }

  .dark .text-gradient {
    @apply bg-gradient-to-r from-white via-purple-300 to-purple-500 bg-clip-text text-transparent;
  }

  .light-card {
    @apply bg-white border border-gray-100 shadow-light hover:shadow-light-md transition-shadow;
  }

  .dark .light-card {
    @apply bg-gray-800 border-gray-700 shadow-none hover:shadow-none;
  }

  .section {
    @apply py-12 relative;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease-out;
  }

  .section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .dark [class*="border"] {
    border-color: rgb(31 41 55);
  }

  /* Improved hover effects for entire site */
  .hover-gradient-border {
    @apply relative;
  }

  .hover-gradient-border::after {
    @apply content-[''] absolute left-0 bottom-0 h-0.5 w-0 bg-gradient-to-r from-[#4338CA] to-[#818CF8] transition-all duration-300 rounded-full;
  }

  .hover-gradient-border:hover::after {
    @apply w-full;
  }

  /* Enhanced button states */
  .button-glow:hover {
    box-shadow: 0 0 15px rgba(67, 56, 202, 0.5);
  }

  /* Focus visible enhancements */
  .focus-ring {
    @apply outline-none ring-2 ring-offset-2 ring-[#4338CA] dark:ring-indigo-300 transition-shadow duration-200;
  }

  /* Fix for Radix UI portals */
  .radix-portal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 50;
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  .perspective-1000 {
    perspective: 1000px;
  }

  /* When a modal/dialog is open, ensure no layout shift */
  [data-state="open"] + body,
  body[data-overflow="hidden"] {
    margin-right: 0 !important;
    padding-right: 0 !important;
    overflow: auto !important;
  }
}

